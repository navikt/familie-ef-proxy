application:
  name: familie-ef-proxy
server:
  servlet:
    context-path: /

no.nav.security.jwt:
  issuer:
    azuread:
      discoveryurl: ${AZURE_APP_WELL_KNOWN_URL}
      accepted_audience: ${AZURE_APP_CLIENT_ID}
      proxyurl: http://webproxy-nais.nav.no:8088
      cookie_name: azure_token
  client:
    registration:
      familie-ef-sak:
        resource-url: ${EF_SAK_URL}
        token-endpoint-url: ${AZURE_OPENID_CONFIG_TOKEN_ENDPOINT}
        grant-type: client_credentials
        scope: api://${CLUSTER_ENV}-gcp.teamfamilie.familie-ef-sak/.default
        authentication:
          client-id: ${AZURE_APP_CLIENT_ID}
          client-secret: ${AZURE_APP_CLIENT_SECRET}
          client-auth-method: client_secret_basic
      arbeidssoker:
        resource-url: ${ARBEIDSSØKER_URL}
        token-endpoint-url: ${AZURE_OPENID_CONFIG_TOKEN_ENDPOINT}
        grant-type: client_credentials
        scope: api://${CLUSTER_ENV}-fss.paw.veilarbregistrering/.default
        authentication:
          client-id: ${AZURE_APP_CLIENT_ID}
          client-secret: ${AZURE_APP_CLIENT_SECRET}
          client-auth-method: client_secret_basic
      sigrun:
        resource-url: ${SIGRUN_URL}
        token-endpoint-url: ${AZURE_OPENID_CONFIG_TOKEN_ENDPOINT}
        grant-type: client_credentials
        scope: ${SIGRUN_SCOPE}
        authentication:
          client-id: ${AZURE_APP_CLIENT_ID}
          client-secret: ${AZURE_APP_CLIENT_SECRET}
          client-auth-method: client_secret_basic

spring:
  autoconfigure.exclude: org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration
  main:
    allow-bean-definition-overriding: true
    banner-mode: "off"

management:
  endpoint.health.show-details: always
  endpoints.web:
    exposure.include: info, health, metrics, prometheus
    base-path: "/internal"
    path-mapping:
      info: "status/isAlive"
  metrics.export.prometheus.enabled: true
  metrics.web.server.request.autotime.enabled: true

springdoc:
  packagesToScan: no.nav.familie.ef.søknad
  pathsToMatch: /v3/api-docs,/api/**
  swagger-ui:
    disable-swagger-default-url: true

CLUSTER_ENV: prod
EF_SAK_URL: https://familie-ef-sak.intern.nav.no
EREG_URL: https://modapp.adeo.no/ereg/api/v1/organisasjon
INNTEKT_URL: https://app.adeo.no/inntektskomponenten-ws/rs/api
SIGRUN_URL: https://sigrun.nais.adeo.no/api/
ARBEID_INNTEKT_URL: https://arbeid-og-inntekt.nais.adeo.no
ARBEIDSSØKER_URL: https://veilarbregistrering.intern.nav.no/veilarbregistrering/api
ABC: https://veilarbregistrering.dev.intern.nav.no/veilarbregistrering/api/arbeidssoker/
SIGRUN_SCOPE: api://${CLUSTER_ENV}-fss.team-inntekt.sigrun/.default
STS_PREFIX: http://security-token-service.default
STS_DISCOVERY_SUFFIX: /rest/v1/sts/.well-known/openid-configuration
STS_URL: ${STS_PREFIX}/rest/v1/sts/token
STS_DISCOVERY_URL: ${STS_PREFIX}${STS_DISCOVERY_SUFFIX}
GYLDIGE_SERVICE_BRUKERE: srvArena

EF_PERSONHENDELSE_CLIENT_ID: prod-gcp:teamfamilie:familie-ef-personhendelse
EF_SAK_CLIENT_ID: prod-gcp:teamfamilie:familie-ef-sak